$('[data-controller=scheduled_shows]').ready ->
  $('.chosen-select').chosen
    allow_single_deselect: true
    no_results_text: 'No results matched'
    width: '200px'

  $('#calendar').ready ->
   $('#calendar').fullCalendar({
     header: {
       left: 'prev,next today',
       center: 'title',
       right: 'month,basicWeek,basicDay'
     }
     defaultView: 'month'
     editable: true
     eventSources: [
       "/scheduled_shows.json?timezone=<%=Time.zone.name%>"
     ]
     eventClick: (calEvent, jsEvent, view) ->
       window.location = "/scheduled_shows/#{calEvent.id}"
     dayClick: (date, jsEvent, view) ->
       $.get("/scheduled_shows/new?start_at=#{date.format()}")
   })
  $("#modal-holder").on('hide.bs.modal', (e) ->
    if (!confirm('Exiting the scheduler will lose all progress. Are you sure?'))
      e.preventDefault()
  )
